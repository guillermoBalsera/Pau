<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Permitir Audio</title>
</head>
<body>
    <h1>Haz clic para permitir la reproducción de audio</h1>
    <button onclick="solicitarPermiso()">Permitir Audio</button>

    <!-- Configuración inicial del audio para cumplir con políticas de reproducción -->
    <audio id="audio" src="happy.mp3" muted></audio>

    <script>
        function solicitarPermiso() {
            // Solicitar confirmación explícita del usuario para reproducir el audio
            if (confirm("¿Deseas permitir la reproducción de audio?")) {
                var audio = document.getElementById('audio');
                
                // Desmutear el audio para la reproducción
                audio.muted = false;

                // Intentar reproducir el audio
                audio.play().then(function() {
                    // Reproducción exitosa, redirigir a otra página
                    window.location.href = "./fireworks.html";
                }).catch(function(error) {
                    // Si no se puede reproducir el audio, mostrar un mensaje de error
                    alert("Error al intentar reproducir el audio. Asegúrate de que el navegador permita la reproducción automática.");
                });
            } else {
                // Si el usuario no permite la reproducción, mostrar un mensaje o realizar otra acción
                alert("Debes permitir la reproducción de audio para continuar.");
            }
        }
    </script>
</body>
</html>
